@using Sicemed.Web.Models
@using Sicemed.Web.Models.Roles
@model Sicemed.Web.Models.ViewModels.Historial.TurnosPacienteViewModel
@{
    ViewBag.Title = "Historial Turnos";
}
<h2>
    Historial Turnos</h2>
@using (Html.BeginForm("Turnos", "Historial", FormMethod.Get, new { id = "search-filters" }))
{
    @Html.ValidationSummaryWithMessage()

    @Html.EditorFor(x => x.Filters)   
    
    @Html.Submit("Filtrar")    
}
@if (!Model.Turnos.Any())
{
    <div>
        El usuario no posee histor&iacute;a en las fechas seleccionadas.
    </div>    
}
else
{
    <div class="historial">
        @foreach (var turno in Model.Turnos)
        {
            var css = turno.SePresento? "presento" : "ausente";
            css = turno.SeAtendio ? "atendio" : css;            
            <div class="turno @css">
            <h3>@turno.FechaTurno.ToShortDateString() @turno.FechaTurno.ToShortTimeString() - @turno.Profesional</h3>
            <div>
                Especialidad: @turno.Especialidad
                <br />
                Consultorio: @turno.Consultorio
            </div>
            @if (turno.SeAtendio)
            {
            <h4>
                Diagn&oacute;stico</h4>
            <div>
                @Html.Nl2Br(turno.Nota)
            </div>                                              
            }                
            </div>
        }
    </div>        
}
