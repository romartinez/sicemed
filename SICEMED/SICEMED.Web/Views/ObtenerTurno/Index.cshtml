@model BusquedaProfesionalViewModel
@using Sicemed.Web.Models.ViewModels.ObtenerTurno
@{
    ViewBag.Title = "Obtener Turno";
}
<h2>
    Obtener Turno
</h2>
<article data-bind="template: { name: 'currentTmpl', data: currentStep }">

</article>

<script id="currentTmpl" type="text/html">
    <h2 data-bind="text: name"></h2>
    <div data-bind="template: { name: getTemplate(), data: model }"></div> 
</script>

<div id="selectProfesionales">
    <script id="selectProfesional" type="text/html">
        <div>
            <label>
                Por Especialidad:
            </label>
            <select data-bind="options: especialidades, optionsText: 'nombre', value: especialidadSeleccionada">
            </select>            
        </div>
        <div>
            <label>
                Por Profesional:
            </label>
            <input type="text" data-bind="value: profesionalABuscar" />
        </div>
        <div>
            <button data-bind="click: buscarProfesionales">Buscar</button>
        </div>
        <div data-bind='template: { name: "profesionalEncontrado", 
                            foreach: profesionalesEncontrados }'> </div>
    </script>

    <script id="profesionalEncontrado" type="text/html">
        <div>
            <img data-bind="attr: {src: foto, alt: nombre}" />
            <span data-bind="text: nombre"></span>
            {{each especialidades}}
                ${$value}
            {{/each}}            
        </div>
    </script>
</div>

@section scripts{
    <script type="text/javascript" src="@Url.Content("~/Scripts/Testing/jquery.mockjax.js")"></script>   
    <script type="text/javascript" src="@Url.Content("~/Scripts/ObtenerTurno/index.js")"></script>   
}